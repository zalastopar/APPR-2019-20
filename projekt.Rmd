---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Zala Stopar Špringer"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding="UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding="UTF-8")
```

```{r rstudio, echo=FALSE, results='asis'}
# Izris povezave do RStudia na Binderju
source("lib/rstudio.r", encoding="UTF-8")
```

# Izbira teme

Za projektno nalogo pri APPR bom analizirala najboljših 250 filmov po IMDb lestvici. Pri projektu bom gledala leto izdaje, zvrst, proračun, donosnost, oceno, dolžino, jezik, državo snemanja, ...
Cilj mojega projekta je ugotoviti katere komponente najbolj vplivajo na priljubljenost filma.


![](slike/imdb-filmi-slika.jpg)

vir: `https://exstreamist.com/imdb-top-250-movies-streaming-on-netflix-updated-monthly/`

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE, warning=FALSE}
source("uvoz/uvoz.r", encoding="UTF-8")
```

Uvozili smo podatke o filmih v obliki CSV s spletnih strani Kaggle in data.world ter v obliki HTML s IMDB spletne strani. Podatke imamo eni razpredelnici v obliki *tidy data*.

1. `Title` - naslov fima
  - `Year` - spremenljivka: leto izdaje filma,
  - `Releasd` - spremenljivka: datum izdaje filma,
  - `Runtime` - meritev: dolžina filma,
  - `Genre` - spremenljivka: zvrst filma,
  - `Language` - spremenljivka: govoreči jeziki v filmu,
  - `Country` - spremenljivka: država, iz katere film izhaja,
  - `imdbRating` - meritev: ocena filma,
  - `imdbID` - spemenljivka: številka filma, 
  - `DVD` - spremenljivka: leto izdaje filma na DVD,
  - `Production` - spremenljivka: filmski studio, ki je film izdal,
  - `Budget` - meritev: proračun za film,
  - `Gross` - meritev: donosnost filma v milijonih.
  





***

# Analiza in vizualizacija podatkov

```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
source("vizualizacija/vizualizacija.r", encoding="UTF-8")
```

Spodnji zemljevid prikazuje povprečno velikost družine za vsako občino.

```{r zemljevid, echo=FALSE, fig.align='center', fig.cap='Zemljevid povprečnega števila otrok v družini'}
ggplot(b, aes(long, lat, group = group))+
  geom_polygon(aes(fill = Freq ), color = "white")+
  scale_fill_gradient2(low = "blue", mid = "blue", high = "red",
                       midpoint = 10)
```

***



```{r shiny, echo=FALSE}
shinyAppDir("shiny", options=list(width="100%", height=600))
```
